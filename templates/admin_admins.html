<!DOCTYPE html>
<html>
    <head>
        <title> Outdoor Equity Alliance: Admins</title>

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"> -->

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

        <style>

            h1 {
                text-align: center;
                color: darkgreen;
                font-weight: bolder;
            }

            .header {
                background-color:darkseagreen;
                color:rgb(13, 34, 20);
                padding: 2%
            }

            .links {
                text-align: center;
            }

            #content {
                margin:2%;
            }

            #back-button {
                padding-left: 2%;
                padding-bottom: 2%;
            }

        </style>
    </head>

    <body>
        <div class="container-fluid, header">
            <div id="back-button"> <a class="btn btn-danger" href="/admin" role="button"> Back to main interface</a> </div>
            <h1> Outdoor Equity Alliance: List of Administrators</h1>
        </div>

        <div id="content">

            <h2> Administrators </h2>


            <hr>

            <button type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#add_admin">
                <span class="glyphicon glyphicon-plus"></span> Add Admin
            </button>
            <br>

            <!-- modal for changing module name -->
            <!-- Trigger the modal with a button -->
            <div class="container">
                <!-- Modal -->
                <div class="modal fade" id="add_admin" role="dialog">
                    <div class="modal-dialog modal-dialog-centered modal-lg">

                        <!-- Modal content-->
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title">Add New Admin</h4>
                            </div>
                            <div class="modal-body container-fluid">
                                <form action="{{'/admin/admins/add'}}" method='POST'>

                                    <table >
                                        <tr>
                                            <td align= "right"> Admin Name : </td>
                                            <td align="left">
                                                <input type = "text"
                                                name = "admin_name"> <br>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td align= "right"> Admin Email: </td>
                                            <td align="left">
                                                <input type = "text"
                                                name = "admin_email"> <br>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td align = "right"></td>
                                            <td align = "left"><input type="submit"
                                                value="Submit"> </td>
                                        </tr>
                                    </table>
                                </form>
                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <hr>

            <table class = "table">
                <tr>
                    <th align = "left"> Name</th>
                    <th align = "left"> Email</th>
                </tr>
                {% for admin in admins: %}
                <tr>
                    <td align = "left"> {{admin['user_name']}}</td>
                    <td align = "left"> {{admin['user_email']}}</td>
                    <td align = right>
                        <form action="/admin/admins/delete" method = 'POST' onsubmit="return isConfirmed(this);">
                            <input type="hidden" name="user_id" value="{{admin['user_id']}}">
                            <input type="submit" value="Delete">

                        </form>
                    </td>
                </tr>
                {% endfor %}
            </table>

            <hr>
        </div>




        <script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

        <script>
            'use strict';

            let request = null;

            function isConfirmed (form) {
                if (confirm('Are you sure you want to delete?')) {
                    return true;
                }
                else {
                    return false;
                }
            }
        </script>



    </body>
</html>

